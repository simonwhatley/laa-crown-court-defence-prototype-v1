{% extends "../../../layout.html" %}

{% block page_title %}
  {% if serviceName %} {{ serviceName }} {% endif %}
{% endblock %}

{% block page_styles %}
{#% include "./includes/_page_styles.html" %#}
{% endblock %}

{% block page_scripts %}
{#% include "./includes/_page_scripts.html" %#}
{% endblock %}

{% block content %}
<main id="content" role="main">

    <div class="grid-row">
        <div class="column-full">

            <a class="link-back" href="../">Back</a>

            <h1 class="heading-xlarge">
                Providers
            </h1>

            <div class="grid-row">
                <div class="column-full">

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th scope="col">
                                        {% if not (data['sort'].length and data['order'].length) -%}
                                            <a href="{{links.list}}?sort=name&amp;order=desc&amp;limit={{data['limit']}}&amp;page={{data['page']}}">
                                        {% elif data['sort'] == 'name' and data['order'] == 'asc' %}
                                            <a href="{{links.list}}?sort=name&amp;order=desc&amp;limit={{data['limit']}}&amp;page={{data['page']}}">
                                        {% else %}
                                            <a href="{{links.list}}?sort=name&amp;order=asc&amp;limit={{data['limit']}}&amp;page={{data['page']}}">
                                        {%- endif %}
                                            Provider name
                                        </a>
                                    </th>
                                    <th scope="col">
                                        {#% if data['sort'] == 'type' and data['order'] == 'asc' -%}
                                            <a href="{{links.list}}?sort=type&amp;order=desc&amp;limit={{data['limit']}}&amp;page={{data['page']}}">
                                        {% else %}
                                            <a href="{{links.list}}?sort=type&amp;order=asc&amp;limit={{data['limit']}}&amp;page={{data['page']}}">
                                        {%- endif %#}
                                            Provider type
                                        <!-- </a> -->
                                    </th>
                                    <th scope="col">
                                        {#% if data['sort'] == 'scheme' and data['order'] == 'asc' -%}
                                            <a href="{{links.list}}?sort=scheme&amp;order=desc&amp;limit={{data['limit']}}&amp;page={{data['page']}}">
                                        {% else %}
                                            <a href="{{links.list}}?sort=scheme&amp;order=asc&amp;limit={{data['limit']}}&amp;page={{data['page']}}">
                                        {%- endif %#}
                                            Fee schemes
                                        <!-- </a> -->
                                    </th>
                                    <th scope="col">
                                        {#% if data['sort'] == 'vat' and data['order'] == 'asc' -%}
                                            <a href="{{links.list}}?sort=vat&amp;order=desc&amp;limit={{data['limit']}}&amp;page={{data['page']}}">
                                        {% else %}
                                            <a href="{{links.list}}?sort=vat&amp;order=asc&amp;limit={{data['limit']}}&amp;page={{data['page']}}">
                                        {%- endif %#}
                                            VAT registered
                                        <!-- </a> -->
                                    </th>
                                    <th scope="col">
                                        {% if data['sort'] == 'status' and data['order'] == 'asc' -%}
                                            <a href="{{links.list}}?sort=status&amp;order=desc&amp;limit={{data['limit']}}&amp;page={{data['page']}}">
                                        {% else %}
                                            <a href="{{links.list}}?sort=status&amp;order=asc&amp;limit={{data['limit']}}&amp;page={{data['page']}}">
                                        {%- endif %}
                                            Status
                                        </a>
                                    </th>
                                    <!-- <th scope="col">Users</th> -->
                                </tr>
                            </thead>
                            <tbody>

                                {% for provider in providers %}

                                <tr id="provider-{{provider.id}}">
                                    <td aria-label="Provider name" scope="row">
                                        <a href="{{links.view}}{{provider.id}}">
                                            {{provider.provider_name}}
                                        </a>
                                    </td>
                                    <th aria-label="Provider type">
                                        {{provider.provider_type|capitalize}}
                                    </th>
                                    <td aria-label="Fee schemes">
                                        {{provider.fee_scheme|sort}}
                                    </td>
                                    <td aria-label="VAT registered">
                                        {% if provider.vat_registered == true or provider.vat_registered == 'yes' -%}Yes{% else %}No{%- endif %}
                                    </td>
                                    <td aria-label="Status">
                                        {{provider.account_status|capitalize}}
                                    </td>
                                    <!-- <td aria-label="Manage users">
                                        <a href="#noop">Manage users</a>
                                    </td> -->
                                </tr>

                                {% endfor %}

                            </tbody>
                        </table>
                    </div>

                </div>
            </div>

            <!-- <div class="grid-row">
                <div class="column-full"> -->

                    <!-- <nav role="navigation" aria-label="Pagination">
                      <div class="pagination__summary">Showing 101 &ndash; 150 of 246 results</div>
                      <ul class="pagination">
                        <li class="pagination__item"><a class="pagination__link" href="#0" aria-label="Previous page"><span aria-hidden="true" role="presentation">&laquo;</span> Previous</a></li>
                        <li class="pagination__item"><a class="pagination__link" href="#0" aria-label="Page 1">1</a></li>
                        <li class="pagination__item"><a class="pagination__link" href="#0" aria-label="Page 2">2</a></li>
                        <li class="pagination__item"><a class="pagination__link current" href="#0" aria-current="true" aria-label="Page 3, current page">3</a></li>
                        <li class="pagination__item"><a class="pagination__link" href="#0" aria-label="Page 4">4</a></li>
                        <li class="pagination__item"><a class="pagination__link" href="#0" aria-label="Page 5">5</a></li>
                        <li class="pagination__item"><a class="pagination__link" href="#0" aria-label="Next page">Next <span aria-hidden="true" role="presentation">&raquo;</span></a></li>
                      </ul>
                    </nav> -->

                <!-- </div>
            </div> -->

            <div class="grid-row">
                <div class="column-half">
                    <h3 class="heading-small">Show [ ] per page</h3>
                    <ul>
                        <li><a href="{{links.list}}?sort={{data['sort']}}&amp;order={{data['order']}}&amp;limit=10">10</a></li>
                        <li><a href="{{links.list}}?sort={{data['sort']}}&amp;order={{data['order']}}&amp;limit=25">25</a></li>
                        <li><a href="{{links.list}}?sort={{data['sort']}}&amp;order={{data['order']}}&amp;limit=50">50</a></li>
                        <li><a href="{{links.list}}?sort={{data['sort']}}&amp;order={{data['order']}}&amp;limit=100">100</a></li>
                    </ul>
                </div>
                <div class="column-half">
                    <h3 class="heading-small">Page</h3>
                    <ul class="pagination">
                        <!-- <li class="pagination__item">
                            {#% if data['page'] > 1 -%}
                            <a class="pagination__link" aria-label="" href="{{links.list}}?sort={{data['sort']}}&amp;order={{data['order']}}&amp;limit={{data['limit']}}&amp;page=1">
                            {%- endif %}
                            Start
                            {% if data['page'] > 1 -%}
                            </a>
                            {%- endif %#}
                        </li> -->
                        <li class="pagination__item">
                            {% if data['page'] > 1 -%}
                            <a class="pagination__link" aria-label="Previous page" href="{{links.list}}?sort={{data['sort']}}&amp;order={{data['order']}}&amp;limit={{data['limit']}}&amp;page={{pagination.prev_page}}" rel="prev"><span aria-hidden="true" role="presentation">&laquo; </span>
                            {%- endif %}
                            Previous
                            {% if data['page'] > 1 -%}
                            </a>
                            {%- endif %}
                        </li>

                        {% for i in range(pagination.start_page, (pagination.end_page+1)) -%}
                            <li class="pagination__item"><a class="pagination__link {% if data['page'] == i %}current{%- endif %}" aria-label="Page {{i}}" href="{{links.list}}?sort={{data['sort']}}&amp;order={{data['order']}}&amp;limit={{data['limit']}}&amp;page={{i}}">{{i}}</a></li>
                        {%- endfor %}

                        <li class="pagination__item">
                            {% if data['page'] < pagination.page_count -%}
                            <a class="pagination__link" aria-label="Next page" href="{{links.list}}?sort={{data['sort']}}&amp;order={{data['order']}}&amp;limit={{data['limit']}}&amp;page={{pagination.next_page}}" rel="next">
                            {%- endif %}
                            Next
                            {% if data['page'] < pagination.page_count -%}
                            <span aria-hidden="true" role="presentation"> &raquo;</span> </a>
                            {%- endif %}
                        </li>
                        <!-- <li class="pagination__item">
                            {#% if data['page'] < pagination.page_count -%}
                            <a class="pagination__link" aria-label="Last page" href="{{links.list}}?sort={{data['sort']}}&amp;order={{data['order']}}&amp;limit={{data['limit']}}&amp;page={{pagination.page_count}}">
                            {%- endif %}
                            Last
                            {% if data['page'] < pagination.page_count -%}
                            </a>
                            {%- endif %#}
                        </li> -->
                    </ul>
                </div>
            </div>

        </div>
    </div>

</main>
{% endblock %}
