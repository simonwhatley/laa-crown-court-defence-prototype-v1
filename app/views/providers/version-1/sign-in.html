{% extends "./layout.html" %}

{% block page_title %}
  {% if serviceName %} {{ serviceName }} {% endif %}
{% endblock %}

{% block content %}

<main id="content" role="main">

	{% include "./includes/_banner.html" %}

  <div class="grid-row">
    <div class="column-two-thirds">

    	{% if errors %}
        <div class="error-summary" role="alert" aria-labelledby="error-summary-heading-example-1" tabindex="-1">

            <h1 class="heading-medium error-summary-heading" id="error-summary-heading-example-1">
                Message to alert the user to a problem goes here
            </h1>

            <p>
	        	Optional description of the errors and how to correct them
	      	</p>

            <ul class="error-summary-list">
                {% for key, value in errors %}
                    <li><a href="#{{ key }}">{{ value }}</a></li>
                {% endfor %}
            </ul>

	    </div>
	    {% endif %}

	    <h1 class="heading-xlarge">
	      <span class="heading-secondary">Providers</span>
	      Sign in
	    </h1>

	    <form action="./auth" method="post">

			<div class="form-section">
				
				<div class="form-group{% if errors %} form-group-error{% endif %}">
					<label class="form-label-bold" for="username">
						Email address
						<!-- <span class="form-hint">Something</span> -->
						{% if errors.username %}<span class="error-message">{{errors.username}}</span> {% endif %}
					</label>
					<input class="form-control form-control-2-3" id="username" type="text" name="username" autocomplete="off" autocapitalize="off" value="{{data['username']}}">
				</div>

				<div class="form-group{% if errors %} form-group-error{% endif %}">
					<label class="form-label-bold" for="password">
						Password
						<!-- <span class="form-hint">Something</span> -->
						{% if errors.username %}<span class="error-message">{{errors.password}}</span> {% endif %}
					</label>
					<input class="form-control form-control-2-3" id="password" type="password" name="_password" autocomplete="off" autocapitalize="off">
				</div>

			</div>

			<div class="form-section">
				<div class="form-group form-buttons">
					<input type="submit" class="button" value="Sign in">
					<a href="/providers/register/" class="button button-tertiary" role="button">Register</a>
				</div>
			</div>

		</form>

		<!-- TODO: Forgotten email process -->
		<details>
			<summary>
				<span class="summary">Forgotten your password?</span>
			</summary>
			<div class="panel panel-border-narrow">

				<div class="form-section">
					<div class="form-group">
						<label class="form-label-bold" for="email_forgot">
							Email address
							<span class="form-hint">Enter your email address and we'll send you a link to reset your password.</span>
						</label>
						<input class="form-control form-control-2-3" id="email_forgot" type="text" name="email" autocomplete="off" autocapitalize="off">
					</div>
				
					<div class="form-group form-buttons">
						<input type="submit" class="button button-secondary" value="Send reset link">
					</div>
				</div>

			</div>
		</details>

    </div>
  </div>
</main>

{% endblock %}