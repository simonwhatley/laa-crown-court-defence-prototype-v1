<div class="form-section">
    <h3 class="heading-medium">
        Expense 1
        <a href="#noop" class="link-remove">
            Remove
            <span class="visually-hidden">&nbsp;this expense<span>
        </a>
    </h3>

    <div class="form-group">
        <fieldset>
            <legend class="heading-small">
                Expense type
                <!-- <span class="form-hint">
                    Please choose all relevant options
                </span> -->
            </legend>

            {% for type in travel_types %}
            <div class="multiple-choice" data-target="{{type.key}}-panel">
                <input aria-controls="{{type.key}}-panel" aria-expanded="false" id="{{type.key}}" name="travel_type" type="radio" value="{{type.key}}" {{ checked('travel_type',type.key) }}>
                <label for="{{type.key}}">
                    {{type.name}}
                </label>
            </div>
            {% if type.key != 'parking' -%}
            <div class="panel panel-border-narrow js-hidden" id="{{type.key}}-panel">

                {% if type.key in ["bike_travel","cab_fares","car_travel","road_or_tunnel_tolls","train_or_public_transport","travel_time"] -%}
                <div class="form-group">
                    <label class="form-label-bold" for="travel-destination">
        				Destination
        				<span class="form-hint">Please provide a destination</span>
        			</label>
        			<input class="form-control" id="travel-destination" type="text" name="travel_destination" value="{{ data['travel_destination']}}" autocomplete="off" autocapitalize="off">
                </div>
                {%- endif %}

                {% if type.key in ["hotel_accommodation","subsistence"] -%}
                <div class="form-group">
                    <label class="form-label-bold" for="travel-location">
                        Location
                        <span class="form-hint">Please provide a location</span>
                    </label>
                    <input class="form-control" id="travel-location" type="text" name="travel_location" value="{{ data['travel_location']}}" autocomplete="off" autocapitalize="off">
                </div>
                {%- endif %}

                {% if type.key in ["bike_travel","car_travel"] -%}
                <div class="form-group">
                    <label class="form-label-bold" for="travel-distance">
                        Distance
                        <span class="form-hint">Miles</span>
                    </label>
                    <input class="form-control form-control-1-8" id="travel-distance" type="text" name="travel_distance" value="{{ data['travel_distance']}}" autocomplete="off" autocapitalize="off">
                </div>
                {%- endif %}

                {% if type.key in ["travel_time"] -%}
                <div class="form-group">
                    <label class="form-label-bold" for="travel-time">
                        Hours
                    </label>
                    <input class="form-control form-control-1-8" id="travel-time" type="text" name="travel_time" value="{{ data['travel_time']}}" autocomplete="off" autocapitalize="off">
                </div>
                {%- endif %}

                {% if type.key in ["bike_travel","car_travel"] -%}
                <div class="form-group">
                    <fieldset class="inline">
                        <legend class="form-label-bold">
                            Cost
                        </legend>

                        {% if type.key == 'bike_travel' -%}

                        <div class="multiple-choice">
                            <input id="mileage-twenty" name="travel_cost_per_mile" type="radio" value="20" checked="checked"><!-- {{ checked('travel_cost_per_mile','20') }} -->
                            <label for="mileage-twenty">
                                20p per mile
                            </label>
                        </div>

                        {% else %}

                        <div class="multiple-choice">
                            <input id="mileage-twenty-five" name="travel_cost_per_mile" type="radio" value="25" {{ checked('travel_cost_per_mile','25') }}>
                            <label for="mileage-twenty-five">
                                25p per mile
                            </label>
                        </div>

                        <div class="multiple-choice">
                            <input id="mileage-forty-five" name="travel_cost_per_mile" type="radio" value="45" {{ checked('travel_cost_per_mile','45') }}>
                            <label for="mileage-forty-five">
                                45p per mile
                            </label>
                        </div>

                        {%- endif %}

                    </fieldset>
                </div>
                {%- endif %}

            </div>
            {%- endif %}

            {% endfor %}

        </fieldset>

    </div>

    <div class="form-section">

        <div class="form-group">
            <fieldset>
                <legend class="form-label-bold">
                    Date travelled
                    <span class="form-hint">
                        For example, 31 3 2017
                    </span>
                </legend>
                <div class="form-date">
                    <div class="form-group form-group-day">
                        <label class="form-label" for="date-travelled-1-1-day">
                            Day
                        </label>
                        <input class="form-control" id="date-travelled-1-1-day" max="31" min="1" name="date_travelled_1_1_day" pattern="[0-9]*" type="number" value="{{data['date_travelled_1_1_day']}}">
                    </div>
                    <div class="form-group form-group-month">
                        <label class="form-label" for="date-travelled-1-1-month">
                            Month
                        </label>
                        <input class="form-control" id="date-travelled-1-1-month" max="12" min="1" name="date_travelled_1_1_month" pattern="[0-9]*" type="number" value="{{data['date_travelled_1_1_month']}}">
                    </div>
                    <div class="form-group form-group-year">
                        <label class="form-label" for="date-travelled-1-1-year">
                            Year
                        </label>
                        <input class="form-control" id="date-travelled-1-1-year" max="2019" min="1900" name="date_travelled_1_1_year" pattern="[0-9]*" type="number" value="{{data['date_travelled_1_1_year']}}">
                    </div>
                </div>
            </fieldset>
        </div>

        <div class="form-group">

    		<fieldset>

    			<legend class="form-label-bold" for="case-type">
    				Reason for travel
    				<!-- <span class="form-hint">
    					For example court hearing
    				</span> -->
    			</legend>

    			<!-- <select id="travel-reason" name="travel_reason" class="form-control">
    				<option value=""></option>

    				{% for reason in travel_reasons -%}
    					<option value="{{reason.key}}" {% if data['travel_reason'] == reason.key -%}selected="selected"{%- endif %}>{{reason.name}}</option>
    				{%- endfor %}

    				<option value="">Other</option>

    			</select> -->

    			{% for reason in travel_reasons -%}
    			<div class="multiple-choice">
    	            <input id="travel-reason-{{loop.index}}" name="travel_reason" type="radio" value="{{reason.key}}" {% if data['travel_reason'] and reason.key in data['travel_reason'] %}checked="checked"{%- endif %}>
    	            <label for="travel-reason-{{loop.index}}">
    	                {{reason.name}}
    	            </label>
    	        </div>
    			{%- endfor %}

    			<div class="multiple-choice" data-target="travel-reason-other-panel">
    	            <input aria-controls="travel-reason-other-panel" aria-expanded="false" id="travel-reason-other" name="travel_reason" type="radio" value="other" {% if data['travel_reason'] and 'other' in data['travel_reason'] %}checked="checked"{%- endif %}>
    	            <label for="travel-reason-other">
    	                Other
    	            </label>
    	        </div>
    	        <div class="panel panel-border-narrow js-hidden" id="travel-reason-other-panel">
    	            <label class="form-label-bold" for="reference-number">
    					Other reason
    					<span class="form-hint">Please provide a reason</span>
    				</label>
    				<input class="form-control" id="other-reason" type="text" name="other_reason" value="{{ data['other_reason']}}" autocomplete="off" autocapitalize="off">
    	        </div>

    		</fieldset>

    	</div>

        <div class="form-group">
            <label class="form-label-bold" for="travel-net-amount">
                Net amount
            </label>
            <span class="form-input-denote">
                £
            </span>
            <input class="form-control form-control-1-4 form-input-denote__input" id="travel-net-amount" name="travel_net_amount" type="number" max="999999.99" min="0.00" step="0.01" value="{{data['travel_net_amount']}}">
        </div>

        <div class="form-group">
            <label class="form-label-bold" for="travel-vat-amount">
                <abbr title="Value Added Tax">VAT</abbr> amount
            </label>
            <span class="form-input-denote">
                £
            </span>
            <input class="form-control form-control-1-4 form-input-denote__input" id="travel-vat-amount" name="travel_vat_amount" type="number" max="999999.99" min="0.00" step="0.01" value="{{data['travel_vat_amount']}}">
        </div>

        <hr>

        <div class="form-group form-buttons">
            <a href="#noop" class="button button-secondary" role="button">Add another expense</a>
            <a href="#noop" class="button button-tertiary" role="button">Duplicate expense</a>
        </div>

    </div>
</div>