<script src="/public/javascripts/accessible-autocomplete.min.js"></script>
<script src="/public/javascripts/cccd-autocomplete.js"></script>
<script type="text/javascript">
autocomplete({
  selectElement: document.getElementById('fee-type'),
  showAllValues: true,
  minLength: 0,
  defaultValue: ''
});

$(function(){
  $('#fee-type').on('blur', function(e){
    e.preventDefault();

    // Replace spaces with underscores
    // Remove parentheses
    var type = $(this).val().toLowerCase().replace(/\s/g, '_').replace(/\(|\)/g, '');
  
    $('.fx-additional-case-numbers').is(function(){
      var $el = $(this);

      type == "appeals_to_the_crown_court_against_conviction_uplift" ||
      type == "appeals_to_the_crown_court_against_sentence_uplift" ||
      type == "breach_of_a_crown_court_order_uplift" ||
      type == "committal_for_sentence_hearings_uplift" ||
      type == "cracked_case_discontinued_uplift" ||
      type == "elected_case_not_proceeded_uplift" ||
      type == "number_of_cases_uplift" ? $el.show() : $el.hide();

    });

  });
});

// $(function(){
  
//   // Bind the change listener to any .fx-select
//   $('.fx-select-fee-type').on('change', function(e){
//     e.preventDefault();
    
//     // Read the `data-state` attr on the selected option
//     var childState = $(this).find(':selected').attr('data-case-numbers');
    
//     // Loop over the `.fx-block` divs
//     $('.fx-additional-case-numbers').is(function(){
//       var $el = $(this);
      
//       // matching the `data-el` class will show the element
//       // no match will hide
      
//       childState == "true" ? $el.show() : $el.hide();
//     });
//   });
// });
</script>